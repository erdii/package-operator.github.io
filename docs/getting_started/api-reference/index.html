<!doctype html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="preload" as="font" href="https://package-operator.run/fonts/vendor/jost/jost-v4-latin-regular.woff2" type="font/woff2" crossorigin><link rel="preload" as="font" href="https://package-operator.run/fonts/vendor/jost/jost-v4-latin-500.woff2" type="font/woff2" crossorigin><link rel="preload" as="font" href="https://package-operator.run/fonts/vendor/jost/jost-v4-latin-700.woff2" type="font/woff2" crossorigin><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><link rel="stylesheet" href="https://package-operator.run/main.999c60b7bb153bc75e9ced0b15ac8ff4053d8e70d57dc5a469875274068560113f22e8b54322b3c7598f482c55dd2e7c64d60896384907b32f0675c2d9b1b37e.css" integrity="sha512-mZxgt7sVO8denO0LFayP9AU9jnDVfcWkaYdSdAaFYBE/Iui1QyKzx1mPSCxV3S58ZNYIljhJB7MvBnXC2bGzfg==" crossorigin="anonymous"><noscript><style>img.lazyload{display:none}</style></noscript><meta name="robots" content="index, follow"><meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>API Reference - Package Operator</title><meta name="description" content="The Package Operator APIs are an extension of the Kubernetes API using CustomResourceDefinitions. These new APIs can be interacted with like any other Kubernetes object using e.g. kubectl.
APIs follows the same API versioning guidelines as the main Kubernetes project.
Versioning principles. Taken from the Kubernetes API versioning documentation:
Alpha
The version names contain alpha (for example, v1alpha1). The software may contain bugs. Enabling a feature may expose bugs. A feature may be disabled by default."><link rel="canonical" href="https://package-operator.run/docs/getting_started/api-reference/"><script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://package-operator.run/#/schema/organization/1","name":"Doks","url":"https://package-operator.run/","sameAs":["https://twitter.com/getdoks","https://github.com/h-enk/doks"],"logo":{"@type":"ImageObject","@id":"https://package-operator.run/#/schema/image/1","url":"https://package-operator.run/logo-doks.png","width":512,"height":512,"caption":"Doks"},"image":{"@id":"https://package-operator.run/#/schema/image/1"}},{"@type":"WebSite","@id":"https://package-operator.run/#/schema/website/1","url":"https://package-operator.run/","name":"Package Operator","description":"Operator for packaging and managing a collection of arbitrary Kubernetes objects to install software on one or multiple clusters.","publisher":{"@id":"https://package-operator.run/#/schema/organization/1"}},{"@type":"WebPage","@id":"https://package-operator.run/docs/getting_started/api-reference/","url":"https://package-operator.run/docs/getting_started/api-reference/","name":"API Reference","description":"","isPartOf":{"@id":"https://package-operator.run/#/schema/website/1"},"about":{"@id":"https://package-operator.run/#/schema/organization/1"},"datePublished":"0001-01-01T00:00:00CET","dateModified":"0001-01-01T00:00:00CET","breadcrumb":{"@id":"https://package-operator.run/docs/getting_started/api-reference/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://package-operator.run/docs/getting_started/api-reference/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://package-operator.run/docs/getting_started/api-reference/"]}]},{"@type":"BreadcrumbList","@id":"https://package-operator.run/docs/getting_started/api-reference/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://package-operator.run/","url":"https://package-operator.run/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://package-operator.run/docs/","url":"https://package-operator.run/docs/","name":"Docs"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://package-operator.run/docs/getting_started/","url":"https://package-operator.run/docs/getting_started/","name":"Getting Started"}},{"@type":"ListItem","position":4,"item":{"@id":"https://package-operator.run/docs/getting_started/api-reference/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Article","@id":"https://package-operator.run/#/schema/article/1","headline":"API Reference","description":"","isPartOf":{"@id":"https://package-operator.run/docs/getting_started/api-reference/"},"mainEntityOfPage":{"@id":"https://package-operator.run/docs/getting_started/api-reference/"},"datePublished":"0001-01-01T00:00:00CET","dateModified":"0001-01-01T00:00:00CET","author":{"@id":"https://package-operator.run/#/schema/person/2"},"publisher":{"@id":"https://package-operator.run/#/schema/organization/1"},"image":{"@id":"https://package-operator.run/docs/getting_started/api-reference/#/schema/image/2"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://package-operator.run/#/schema/person/2","name":"Henk Verlinde","sameAs":["https://twitter.com/henkverlinde","https://www.linkedin.com/in/henkverlinde/","https://github.com/h-enk"]}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://package-operator.run/docs/getting_started/api-reference/#/schema/image/2","url":null,"contentUrl":null,"caption":"API Reference"}]}]}</script><meta name="theme-color" content="#fff"><link rel="icon" href="https://package-operator.run/%20favicon.ico" sizes="any"><link rel="icon" type="image/svg+xml" href="https://package-operator.run/%20favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="https://package-operator.run/%20apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://package-operator.run/%20favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://package-operator.run/%20favicon-16x16.png"><meta name="go-import" content="package-operator.run/package-operator git https://github.com/package-operator/package-operator"><meta name="go-import" content="package-operator.run/apis git https://github.com/package-operator/package-operator/apis"></head><body class="docs single"><div class="sticky-top"><div class="header-bar"></div><header class="navbar navbar-expand-lg navbar-light doks-navbar"><nav class="container-xxl flex-wrap flex-lg-nowrap" aria-label="Main navigation"><a class="navbar-brand order-0" href="/" aria-label="Package Operator">Package Operator</a>
<button class="btn btn-link order-0 ms-auto d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-horizontal"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg></button><div class="offcanvas offcanvas-start d-lg-none" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel"><div class="header-bar"></div><div class="offcanvas-header"><h5 class="offcanvas-title" id="offcanvasExampleLabel">Browse docs</h5><button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button></div><div class="offcanvas-body"><aside class="doks-sidebar mt-n3"><nav id="doks-docs-nav" aria-label="Tertiary navigation"><h3 class="h6 text-uppercase mb-2">Getting Started</h3><ul class="list-unstyled"><li><a class="docs-link" href="https://package-operator.run/docs/getting_started/introduction/">Introduction</a></li><li><a class="docs-link" href="https://package-operator.run/docs/getting_started/architecture/">Architecture</a></li><li><a class="docs-link" href="https://package-operator.run/docs/getting_started/requirements/">Requirements</a></li><li><a class="docs-link" href="https://package-operator.run/docs/getting_started/installation/">Installation</a></li><li><a class="docs-link active" href="https://package-operator.run/docs/getting_started/api-reference/">API Reference</a></li></ul><h3 class="h6 text-uppercase mb-2">Guides</h3><ul class="list-unstyled"><li><a class="docs-link" href="https://package-operator.run/docs/guides/packaging-an-application/">Packaging an Application</a></li><li><a class="docs-link" href="https://package-operator.run/docs/guides/installing-packages/">Installing Packages</a></li><li><a class="docs-link" href="https://package-operator.run/docs/guides/packaging-an-operator/">Packaging an Operator</a></li></ul><h3 class="h6 text-uppercase mb-2">Help</h3><ul class="list-unstyled"><li><a class="docs-link" href="https://package-operator.run/docs/help/how-to-update/">How to Update</a></li><li><a class="docs-link" href="https://package-operator.run/docs/help/troubleshooting/">Troubleshooting</a></li><li><a class="docs-link" href="https://package-operator.run/docs/help/faq/">FAQ</a></li><li><a class="docs-link" href="https://package-operator.run/docs/help/handover-process/">Handover Process</a></li></ul></nav></aside></div></div><button class="btn btn-menu order-2 d-block d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDoks" aria-controls="offcanvasDoks" aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class="offcanvas offcanvas-end border-0 py-lg-1" tabindex="-1" id="offcanvasDoks" data-bs-backdrop="true" aria-labelledby="offcanvasDoksLabel"><div class="header-bar d-lg-none"></div><div class="offcanvas-header d-lg-none"><h2 class="h5 offcanvas-title ps-2" id="offcanvasDoksLabel"><a class="text-dark" href="/">Package Operator</a></h2><button type="button" class="btn-close text-reset me-2" data-bs-dismiss="offcanvas" aria-label="Close main menu"></button></div><div class="offcanvas-body p-4 p-lg-0"><ul class="nav flex-column flex-lg-row align-items-lg-center mt-2 mt-lg-0 ms-lg-2 me-lg-auto"><li class="nav-item"><a class="nav-link ps-0 py-1 active" href="/docs/getting_started/introduction">Docs</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle ps-0 py-1" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">Get Started
<span class="dropdown-caret"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"/></svg></span></a><ul class="dropdown-menu dropdown-menu-main shadow rounded border-0" aria-labelledby="navbarDropdownMenuLink"><li><a class="dropdown-item" href="/docs/getting_started/installation">Installation</a></li><li><a class="dropdown-item" href="/docs/guides">Guides</a></li></ul></li></ul><hr class="text-black-50 my-4 d-lg-none"><form class="doks-search position-relative flex-grow-1 ms-lg-auto me-lg-2"><input id="search" class="form-control is-search" type="search" placeholder="Search docs..." aria-label="Search docs..." autocomplete="off"><div id="suggestions" class="shadow bg-white rounded d-none"></div></form><hr class="text-black-50 my-4 d-lg-none"><ul class="nav flex-column flex-lg-row"><li class="nav-item"><a class="nav-link social-link" href="https://github.com/package-operator/package-operator"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><small class="ms-2 d-lg-none">GitHub</small></a></li></ul><hr class="text-black-50 my-4 d-lg-none"><button id="mode" class="btn btn-link" type="button" aria-label="Toggle user interface mode">
<span class="toggle-dark"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class="toggle-light"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></div></div></nav></header></div><div class="container-xxl"><aside class="doks-sidebar"><nav id="doks-docs-nav" class="collapse d-lg-none" aria-label="Tertiary navigation"><h3 class="h6 text-uppercase mb-2">Getting Started</h3><ul class="list-unstyled"><li><a class="docs-link" href="https://package-operator.run/docs/getting_started/introduction/">Introduction</a></li><li><a class="docs-link" href="https://package-operator.run/docs/getting_started/architecture/">Architecture</a></li><li><a class="docs-link" href="https://package-operator.run/docs/getting_started/requirements/">Requirements</a></li><li><a class="docs-link" href="https://package-operator.run/docs/getting_started/installation/">Installation</a></li><li><a class="docs-link active" href="https://package-operator.run/docs/getting_started/api-reference/">API Reference</a></li></ul><h3 class="h6 text-uppercase mb-2">Guides</h3><ul class="list-unstyled"><li><a class="docs-link" href="https://package-operator.run/docs/guides/packaging-an-application/">Packaging an Application</a></li><li><a class="docs-link" href="https://package-operator.run/docs/guides/installing-packages/">Installing Packages</a></li><li><a class="docs-link" href="https://package-operator.run/docs/guides/packaging-an-operator/">Packaging an Operator</a></li></ul><h3 class="h6 text-uppercase mb-2">Help</h3><ul class="list-unstyled"><li><a class="docs-link" href="https://package-operator.run/docs/help/how-to-update/">How to Update</a></li><li><a class="docs-link" href="https://package-operator.run/docs/help/troubleshooting/">Troubleshooting</a></li><li><a class="docs-link" href="https://package-operator.run/docs/help/faq/">FAQ</a></li><li><a class="docs-link" href="https://package-operator.run/docs/help/handover-process/">Handover Process</a></li></ul></nav></aside></div><div class="wrap container-xxl" role="document"><div class="content"><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block"><nav id="sidebar-default" class="docs-links" aria-label="Main navigation"><h3 class="h6 text-uppercase mb-2">Getting Started</h3><ul class="list-unstyled"><li><a class="docs-link" href="https://package-operator.run/docs/getting_started/introduction/">Introduction</a></li><li><a class="docs-link" href="https://package-operator.run/docs/getting_started/architecture/">Architecture</a></li><li><a class="docs-link" href="https://package-operator.run/docs/getting_started/requirements/">Requirements</a></li><li><a class="docs-link" href="https://package-operator.run/docs/getting_started/installation/">Installation</a></li><li><a class="docs-link active" href="https://package-operator.run/docs/getting_started/api-reference/">API Reference</a></li></ul><h3 class="h6 text-uppercase mb-2">Guides</h3><ul class="list-unstyled"><li><a class="docs-link" href="https://package-operator.run/docs/guides/packaging-an-application/">Packaging an Application</a></li><li><a class="docs-link" href="https://package-operator.run/docs/guides/installing-packages/">Installing Packages</a></li><li><a class="docs-link" href="https://package-operator.run/docs/guides/packaging-an-operator/">Packaging an Operator</a></li></ul><h3 class="h6 text-uppercase mb-2">Help</h3><ul class="list-unstyled"><li><a class="docs-link" href="https://package-operator.run/docs/help/how-to-update/">How to Update</a></li><li><a class="docs-link" href="https://package-operator.run/docs/help/troubleshooting/">Troubleshooting</a></li><li><a class="docs-link" href="https://package-operator.run/docs/help/faq/">FAQ</a></li><li><a class="docs-link" href="https://package-operator.run/docs/help/handover-process/">Handover Process</a></li></ul></nav></div><main class="docs-content col-lg-11 col-xl-9 mx-xl-auto"><h1>API Reference</h1><p class="lead"></p><p>The Package Operator APIs are an extension of the <a href="https://kubernetes.io/docs/reference/using-api/api-overview/">Kubernetes API</a> using <code>CustomResourceDefinitions</code>. These new APIs can be interacted with like any other Kubernetes object using e.g. <code>kubectl</code>.</p><p>APIs follows the same API versioning guidelines as the main Kubernetes project.</p><details><summary>Versioning principles.</summary><p><em>Taken from the <a href="https://kubernetes.io/docs/reference/using-api/#api-versioning">Kubernetes API versioning documentation</a>:</em></p><ul><li><p><strong>Alpha</strong></p><ul><li>The version names contain alpha (for example, <code>v1alpha1</code>).</li><li>The software may contain bugs. Enabling a feature may expose bugs. A feature may be disabled by default.</li><li>The support for a feature may be dropped at any time without notice.</li><li>The API may change in incompatible ways in a later software release without notice.</li><li>The software is recommended for use only in short-lived testing clusters, due to increased risk of bugs and lack of long-term support.</li></ul></li><li><p><strong>Beta</strong></p><ul><li>The version names contain beta (for example, <code>v2beta3</code>).</li><li>The software is well tested. Enabling a feature is considered safe. Features are enabled by default.</li><li>The support for a feature will not be dropped, though the details may change.</li><li>The schema and/or semantics of objects may change in incompatible ways in a subsequent beta or stable release. When this happens, migration instructions are provided. Schema changes may require deleting, editing, and re-creating API objects. The editing process may not be straightforward. The migration may require downtime for applications that rely on the feature.</li><li>The software is not recommended for production uses. Subsequent releases may introduce incompatible changes. If you have multiple clusters which can be upgraded independently, you may be able to relax this restriction.</li></ul></li><li><p><strong>Stable</strong></p><ul><li>The version name is <code>vX</code> where <code>X</code> is an integer.</li><li>The stable versions of features appear in released software for many subsequent versions.</li></ul></li></ul></details><h2 id="package-operatorrunv1alpha1">package-operator.run/v1alpha1 <a href="#package-operatorrunv1alpha1" class="anchor" aria-hidden="true">#</a></h2><p>The package v1alpha1 contains API Schema definitions for the v1alpha1 version of the core Package Operator API group,
containing basic building blocks that other auxiliary APIs can build on top of.</p><ul><li><a href="#clusterobjectset">ClusterObjectSet</a></li><li><a href="#clusterobjectsetphase">ClusterObjectSetPhase</a></li><li><a href="#objectset">ObjectSet</a></li><li><a href="#objectsetphase">ObjectSetPhase</a></li></ul><h3 id="clusterobjectset">ClusterObjectSet <a href="#clusterobjectset" class="anchor" aria-hidden="true">#</a></h3><p>ClusterObjectSet reconciles a collection of objects through ordered phases and aggregates their status.</p><p>ClusterObjectSets behave similarly to Kubernetes ReplicaSets, by managing a collection of objects and being itself mostly immutable.
This object type is able to suspend/pause reconciliation of specific objects to facilitate the transition between revisions.</p><p>Archived ClusterObjectSets may stay on the cluster, to store information about previous revisions.</p><p>A Namespace-scoped version of this API is available as ObjectSet.</p><p><strong>Example</strong></p><pre><code class="language-yaml">apiVersion: package-operator.run/v1alpha1
kind: ClusterObjectSet
metadata:
  name: example
spec:
  availabilityProbes:
  - probes:
    - condition:
        status: &quot;True&quot;
        type: Available
      fieldsEqual:
        fieldA: .spec.fieldA
        fieldB: .status.fieldB
    selector:
      kind:
        group: apps
        kind: Deployment
  lifecycleState: Active
  phases:
  - class: dolor
    name: ipsum
    objects:
    - object:
        apiVersion: apps/v1
        kind: Deployment
        metadata:
          name: example-deployment
  previous:
  - group: lorem
    kind: ObjectSet
    name: previous-revision
status:
  phase: Pending

</code></pre><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>metadata</code><br>metav1.ObjectMeta</td><td></td></tr><tr><td><code>spec</code><br><a href="#clusterobjectsetspec">ClusterObjectSetSpec</a></td><td>ClusterObjectSetSpec defines the desired state of a ClusterObjectSet.</td></tr><tr><td><code>status</code><br><a href="#clusterobjectsetstatus">ClusterObjectSetStatus</a></td><td>ClusterObjectSetStatus defines the observed state of a ClusterObjectSet.</td></tr></tbody></table><h3 id="clusterobjectsetphase">ClusterObjectSetPhase <a href="#clusterobjectsetphase" class="anchor" aria-hidden="true">#</a></h3><p>ClusterObjectSetPhase is an internal API, allowing a ClusterObjectSet to delegate a single phase to another custom controller.
ClusterObjectSets will create subordinate ClusterObjectSetPhases when <code>.class</code> is set within the phase specification.</p><p><strong>Example</strong></p><pre><code class="language-yaml">apiVersion: package-operator.run/v1alpha1
kind: ClusterObjectSetPhase
metadata:
  name: example
spec:
  availabilityProbes:
  - probes:
    - condition:
        status: &quot;True&quot;
        type: Available
      fieldsEqual:
        fieldA: .spec.fieldA
        fieldB: .status.fieldB
    selector:
      kind:
        group: apps
        kind: Deployment
  class: consetetur
  lifecycleState: Active
  name: amet
  objects:
  - object:
      apiVersion: apps/v1
      kind: Deployment
      metadata:
        name: example-deployment
  previous:
  - group: sit
    kind: ObjectSet
    name: previous-revision
  revision: 42
status:
  conditions:
  - status: &quot;True&quot;
    type: Available

</code></pre><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>metadata</code><br>metav1.ObjectMeta</td><td></td></tr><tr><td><code>spec</code><br><a href="#clusterobjectsetphasespec">ClusterObjectSetPhaseSpec</a></td><td>ClusterObjectSetPhaseSpec defines the desired state of a ClusterObjectSetPhase.</td></tr><tr><td><code>status</code><br><a href="#clusterobjectsetphasestatus">ClusterObjectSetPhaseStatus</a></td><td>ClusterObjectSetPhaseStatus defines the observed state of a ClusterObjectSetPhase.</td></tr></tbody></table><h3 id="objectset">ObjectSet <a href="#objectset" class="anchor" aria-hidden="true">#</a></h3><p>ObjectSet reconciles a collection of objects through ordered phases and aggregates their status.</p><p>ObjectSets behave similarly to Kubernetes ReplicaSets, by managing a collection of objects and being itself mostly immutable.
This object type is able to suspend/pause reconciliation of specific objects to facilitate the transition between revisions.</p><p>Archived ObjectSets may stay on the cluster, to store information about previous revisions.</p><p>A Cluster-scoped version of this API is available as ClusterObjectSet.</p><p><strong>Example</strong></p><pre><code class="language-yaml">apiVersion: package-operator.run/v1alpha1
kind: ObjectSet
metadata:
  name: example
  namespace: default
spec:
  availabilityProbes:
  - probes:
    - condition:
        status: &quot;True&quot;
        type: Available
      fieldsEqual:
        fieldA: .spec.fieldA
        fieldB: .status.fieldB
    selector:
      kind:
        group: apps
        kind: Deployment
  lifecycleState: Active
  phases:
  - class: sed
    name: elitr
    objects:
    - object:
        apiVersion: apps/v1
        kind: Deployment
        metadata:
          name: example-deployment
  previous:
  - group: sadipscing
    kind: ObjectSet
    name: previous-revision
status:
  phase: Pending

</code></pre><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>metadata</code><br>metav1.ObjectMeta</td><td></td></tr><tr><td><code>spec</code><br><a href="#objectsetspec">ObjectSetSpec</a></td><td>ObjectSetSpec defines the desired state of a ObjectSet.</td></tr><tr><td><code>status</code><br><a href="#objectsetstatus">ObjectSetStatus</a></td><td>ObjectSetStatus defines the observed state of a ObjectSet.</td></tr></tbody></table><h3 id="objectsetphase">ObjectSetPhase <a href="#objectsetphase" class="anchor" aria-hidden="true">#</a></h3><p>ObjectSetPhase is an internal API, allowing an ObjectSet to delegate a single phase to another custom controller.
ObjectSets will create subordinate ObjectSetPhases when <code>.class</code> within the phase specification is set.</p><p><strong>Example</strong></p><pre><code class="language-yaml">apiVersion: package-operator.run/v1alpha1
kind: ObjectSetPhase
metadata:
  name: example
  namespace: default
spec:
  availabilityProbes:
  - probes:
    - condition:
        status: &quot;True&quot;
        type: Available
      fieldsEqual:
        fieldA: .spec.fieldA
        fieldB: .status.fieldB
    selector:
      kind:
        group: apps
        kind: Deployment
  class: eirmod
  lifecycleState: Active
  name: nonumy
  objects:
  - object:
      apiVersion: apps/v1
      kind: Deployment
      metadata:
        name: example-deployment
  previous:
  - group: diam
    kind: ObjectSet
    name: previous-revision
  revision: 42
status:
  conditions:
  - status: &quot;True&quot;
    type: Available

</code></pre><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>metadata</code><br>metav1.ObjectMeta</td><td></td></tr><tr><td><code>spec</code><br><a href="#objectsetphasespec">ObjectSetPhaseSpec</a></td><td>ObjectSetPhaseSpec defines the desired state of a ObjectSetPhase.</td></tr><tr><td><code>status</code><br><a href="#objectsetphasestatus">ObjectSetPhaseStatus</a></td><td>ObjectSetPhaseStatus defines the observed state of a ObjectSetPhase.</td></tr></tbody></table><hr><h3 id="clusterobjectsetphasespec">ClusterObjectSetPhaseSpec <a href="#clusterobjectsetphasespec" class="anchor" aria-hidden="true">#</a></h3><p>ClusterObjectSetPhaseSpec defines the desired state of a ClusterObjectSetPhase.</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>lifecycleState</code><br><a href="#objectsetlifecyclestate">ObjectSetLifecycleState</a></td><td>Specifies the lifecycle state of the ClusterObjectSetPhase.</td></tr><tr><td><code>revision</code> <b>required</b><br>int64</td><td>Revision of the parent ObjectSet to use during object adoption.</td></tr><tr><td><code>previous</code><br><a href="#previousrevisionreference">[]PreviousRevisionReference</a></td><td>Previous revisions of the ClusterObjectSet to adopt objects from.</td></tr><tr><td><code>availabilityProbes</code> <b>required</b><br><a href="#objectsetprobe">[]ObjectSetProbe</a></td><td>Availability Probes check objects that are part of the package.<br>All probes need to succeed for a package to be considered Available.<br>Failing probes will prevent the reconciliation of objects in later phases.</td></tr><tr><td><code>name</code> <b>required</b><br>string</td><td>Name of the reconcile phase. Must be unique within a ObjectSet.</td></tr><tr><td><code>class</code><br>string</td><td>If non empty, the ObjectSet controller will delegate phase reconciliation to another controller, by creating an ObjectSetPhase object.<br>If set to the string &ldquo;default&rdquo; the built-in Package Operator ObjectSetPhase controller will reconcile the object in the same way the ObjectSet would.<br>If set to any other string, an out-of-tree controller needs to be present to handle ObjectSetPhase objects.</td></tr><tr><td><code>objects</code> <b>required</b><br><a href="#objectsetobject">[]ObjectSetObject</a></td><td>Objects belonging to this phase.</td></tr></tbody></table><p>Used in:</p><ul><li><a href="#clusterobjectsetphase">ClusterObjectSetPhase</a></li></ul><h3 id="clusterobjectsetphasestatus">ClusterObjectSetPhaseStatus <a href="#clusterobjectsetphasestatus" class="anchor" aria-hidden="true">#</a></h3><p>ClusterObjectSetPhaseStatus defines the observed state of a ClusterObjectSetPhase.</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>conditions</code><br>[]metav1.Condition</td><td>Conditions is a list of status conditions ths object is in.</td></tr></tbody></table><p>Used in:</p><ul><li><a href="#clusterobjectsetphase">ClusterObjectSetPhase</a></li></ul><h3 id="clusterobjectsetspec">ClusterObjectSetSpec <a href="#clusterobjectsetspec" class="anchor" aria-hidden="true">#</a></h3><p>ClusterObjectSetSpec defines the desired state of a ClusterObjectSet.</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>lifecycleState</code><br><a href="#objectsetlifecyclestate">ObjectSetLifecycleState</a></td><td>Specifies the lifecycle state of the ClusterObjectSet.</td></tr><tr><td><code>previous</code><br><a href="#previousrevisionreference">[]PreviousRevisionReference</a></td><td>Previous revisions of the ClusterObjectSet to adopt objects from.</td></tr><tr><td><code>phases</code> <b>required</b><br><a href="#objectsettemplatephase">[]ObjectSetTemplatePhase</a></td><td>Reconcile phase configuration for a ObjectSet.<br>Phases will be reconciled in order and the contained objects checked<br>against given probes before continuing with the next phase.</td></tr><tr><td><code>availabilityProbes</code> <b>required</b><br><a href="#objectsetprobe">[]ObjectSetProbe</a></td><td>Availability Probes check objects that are part of the package.<br>All probes need to succeed for a package to be considered Available.<br>Failing probes will prevent the reconciliation of objects in later phases.</td></tr></tbody></table><p>Used in:</p><ul><li><a href="#clusterobjectset">ClusterObjectSet</a></li></ul><h3 id="clusterobjectsetstatus">ClusterObjectSetStatus <a href="#clusterobjectsetstatus" class="anchor" aria-hidden="true">#</a></h3><p>ClusterObjectSetStatus defines the observed state of a ClusterObjectSet.</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>conditions</code><br>[]metav1.Condition</td><td>Conditions is a list of status conditions ths object is in.</td></tr><tr><td><code>phase</code><br><a href="#objectsetstatusphase">ObjectSetStatusPhase</a></td><td>Deprecated: This field is not part of any API contract<br>it will go away as soon as kubectl can print conditions!<br>When evaluating object state in code, use .Conditions instead.</td></tr><tr><td><code>revision</code><br>int64</td><td>Computed revision number, monotonically increasing.</td></tr></tbody></table><p>Used in:</p><ul><li><a href="#clusterobjectset">ClusterObjectSet</a></li></ul><h3 id="objectsetobject">ObjectSetObject <a href="#objectsetobject" class="anchor" aria-hidden="true">#</a></h3><p>An object that is part of the phase of an ObjectSet.</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>object</code> <b>required</b><br>runtime.RawExtension</td><td></td></tr></tbody></table><p>Used in:</p><ul><li><a href="#clusterobjectsetphasespec">ClusterObjectSetPhaseSpec</a></li><li><a href="#objectsetphasespec">ObjectSetPhaseSpec</a></li><li><a href="#objectsettemplatephase">ObjectSetTemplatePhase</a></li></ul><h3 id="objectsetpausedobject">ObjectSetPausedObject <a href="#objectsetpausedobject" class="anchor" aria-hidden="true">#</a></h3><p>Specifies that the reconciliation of a specific object should be paused.</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>kind</code> <b>required</b><br>string</td><td>Object Kind.</td></tr><tr><td><code>group</code> <b>required</b><br>string</td><td>Object Group.</td></tr><tr><td><code>name</code> <b>required</b><br>string</td><td>Object Name.</td></tr></tbody></table><p>Used in:</p><h3 id="objectsetphasespec">ObjectSetPhaseSpec <a href="#objectsetphasespec" class="anchor" aria-hidden="true">#</a></h3><p>ObjectSetPhaseSpec defines the desired state of a ObjectSetPhase.</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>lifecycleState</code><br><a href="#objectsetlifecyclestate">ObjectSetLifecycleState</a></td><td>Specifies the lifecycle state of the ObjectSetPhase.</td></tr><tr><td><code>revision</code> <b>required</b><br>int64</td><td>Revision of the parent ObjectSet to use during object adoption.</td></tr><tr><td><code>previous</code><br><a href="#previousrevisionreference">[]PreviousRevisionReference</a></td><td>Previous revisions of the ClusterObjectSet to adopt objects from.</td></tr><tr><td><code>availabilityProbes</code> <b>required</b><br><a href="#objectsetprobe">[]ObjectSetProbe</a></td><td>Availability Probes check objects that are part of the package.<br>All probes need to succeed for a package to be considered Available.<br>Failing probes will prevent the reconciliation of objects in later phases.</td></tr><tr><td><code>name</code> <b>required</b><br>string</td><td>Name of the reconcile phase. Must be unique within a ObjectSet.</td></tr><tr><td><code>class</code><br>string</td><td>If non empty, the ObjectSet controller will delegate phase reconciliation to another controller, by creating an ObjectSetPhase object.<br>If set to the string &ldquo;default&rdquo; the built-in Package Operator ObjectSetPhase controller will reconcile the object in the same way the ObjectSet would.<br>If set to any other string, an out-of-tree controller needs to be present to handle ObjectSetPhase objects.</td></tr><tr><td><code>objects</code> <b>required</b><br><a href="#objectsetobject">[]ObjectSetObject</a></td><td>Objects belonging to this phase.</td></tr></tbody></table><p>Used in:</p><ul><li><a href="#objectsetphase">ObjectSetPhase</a></li></ul><h3 id="objectsetphasestatus">ObjectSetPhaseStatus <a href="#objectsetphasestatus" class="anchor" aria-hidden="true">#</a></h3><p>ObjectSetPhaseStatus defines the observed state of a ObjectSetPhase.</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>conditions</code><br>[]metav1.Condition</td><td>Conditions is a list of status conditions ths object is in.</td></tr></tbody></table><p>Used in:</p><ul><li><a href="#objectsetphase">ObjectSetPhase</a></li></ul><h3 id="objectsetprobe">ObjectSetProbe <a href="#objectsetprobe" class="anchor" aria-hidden="true">#</a></h3><p>ObjectSetProbe define how ObjectSets check their children for their status.</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>probes</code> <b>required</b><br><a href="#probe">[]Probe</a></td><td>Probe configuration parameters.</td></tr><tr><td><code>selector</code> <b>required</b><br><a href="#probeselector">ProbeSelector</a></td><td>Selector specifies which objects this probe should target.</td></tr></tbody></table><p>Used in:</p><ul><li><a href="#clusterobjectsetphasespec">ClusterObjectSetPhaseSpec</a></li><li><a href="#clusterobjectsetspec">ClusterObjectSetSpec</a></li><li><a href="#objectsetphasespec">ObjectSetPhaseSpec</a></li><li><a href="#objectsetspec">ObjectSetSpec</a></li></ul><h3 id="objectsetspec">ObjectSetSpec <a href="#objectsetspec" class="anchor" aria-hidden="true">#</a></h3><p>ObjectSetSpec defines the desired state of a ObjectSet.</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>lifecycleState</code><br><a href="#objectsetlifecyclestate">ObjectSetLifecycleState</a></td><td>Specifies the lifecycle state of the ObjectSet.</td></tr><tr><td><code>previous</code><br><a href="#previousrevisionreference">[]PreviousRevisionReference</a></td><td>Previous revisions of the ObjectSet to adopt objects from.</td></tr><tr><td><code>phases</code> <b>required</b><br><a href="#objectsettemplatephase">[]ObjectSetTemplatePhase</a></td><td>Reconcile phase configuration for a ObjectSet.<br>Phases will be reconciled in order and the contained objects checked<br>against given probes before continuing with the next phase.</td></tr><tr><td><code>availabilityProbes</code> <b>required</b><br><a href="#objectsetprobe">[]ObjectSetProbe</a></td><td>Availability Probes check objects that are part of the package.<br>All probes need to succeed for a package to be considered Available.<br>Failing probes will prevent the reconciliation of objects in later phases.</td></tr></tbody></table><p>Used in:</p><ul><li><a href="#objectset">ObjectSet</a></li></ul><h3 id="objectsetstatus">ObjectSetStatus <a href="#objectsetstatus" class="anchor" aria-hidden="true">#</a></h3><p>ObjectSetStatus defines the observed state of a ObjectSet.</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>conditions</code><br>[]metav1.Condition</td><td>Conditions is a list of status conditions ths object is in.</td></tr><tr><td><code>phase</code><br><a href="#objectsetstatusphase">ObjectSetStatusPhase</a></td><td>Deprecated: This field is not part of any API contract<br>it will go away as soon as kubectl can print conditions!<br>When evaluating object state in code, use .Conditions instead.</td></tr><tr><td><code>revision</code><br>int64</td><td>Computed revision number, monotonically increasing.</td></tr></tbody></table><p>Used in:</p><ul><li><a href="#objectset">ObjectSet</a></li></ul><h3 id="objectsettemplatephase">ObjectSetTemplatePhase <a href="#objectsettemplatephase" class="anchor" aria-hidden="true">#</a></h3><p>ObjectSet reconcile phase.</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code> <b>required</b><br>string</td><td>Name of the reconcile phase. Must be unique within a ObjectSet.</td></tr><tr><td><code>class</code><br>string</td><td>If non empty, the ObjectSet controller will delegate phase reconciliation to another controller, by creating an ObjectSetPhase object.<br>If set to the string &ldquo;default&rdquo; the built-in Package Operator ObjectSetPhase controller will reconcile the object in the same way the ObjectSet would.<br>If set to any other string, an out-of-tree controller needs to be present to handle ObjectSetPhase objects.</td></tr><tr><td><code>objects</code> <b>required</b><br><a href="#objectsetobject">[]ObjectSetObject</a></td><td>Objects belonging to this phase.</td></tr></tbody></table><p>Used in:</p><ul><li><a href="#clusterobjectsetspec">ClusterObjectSetSpec</a></li><li><a href="#objectsetspec">ObjectSetSpec</a></li></ul><h3 id="packageprobekindspec">PackageProbeKindSpec <a href="#packageprobekindspec" class="anchor" aria-hidden="true">#</a></h3><p>Kind package probe parameters.</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>group</code> <b>required</b><br>string</td><td>Object Group to apply a probe to.</td></tr><tr><td><code>kind</code> <b>required</b><br>string</td><td>Object Kind to apply a probe to.</td></tr></tbody></table><p>Used in:</p><ul><li><a href="#probeselector">ProbeSelector</a></li></ul><h3 id="previousrevisionreference">PreviousRevisionReference <a href="#previousrevisionreference" class="anchor" aria-hidden="true">#</a></h3><p>References a previous revision of an ObjectSet, ClusterObjectSet, ObjectSetPhase or ClusterObjectSetPhase.</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code> <b>required</b><br>string</td><td>Name of a previous revision.</td></tr><tr><td><code>kind</code> <b>required</b><br>string</td><td>Object kind of a previous revision.</td></tr><tr><td><code>group</code> <b>required</b><br>string</td><td>Object group of a previous revision.</td></tr></tbody></table><p>Used in:</p><ul><li><a href="#clusterobjectsetphasespec">ClusterObjectSetPhaseSpec</a></li><li><a href="#clusterobjectsetspec">ClusterObjectSetSpec</a></li><li><a href="#objectsetphasespec">ObjectSetPhaseSpec</a></li><li><a href="#objectsetspec">ObjectSetSpec</a></li></ul><h3 id="probe">Probe <a href="#probe" class="anchor" aria-hidden="true">#</a></h3><p>Defines probe parameters to check parts of a package.</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>condition</code><br><a href="#probeconditionspec">ProbeConditionSpec</a></td><td>Checks whether or not the object reports a condition with given type and status.</td></tr><tr><td><code>fieldsEqual</code><br><a href="#probefieldsequalspec">ProbeFieldsEqualSpec</a></td><td>Compares two fields specified by JSON Paths.</td></tr></tbody></table><p>Used in:</p><ul><li><a href="#objectsetprobe">ObjectSetProbe</a></li></ul><h3 id="probeconditionspec">ProbeConditionSpec <a href="#probeconditionspec" class="anchor" aria-hidden="true">#</a></h3><p>Checks whether or not the object reports a condition with given type and status.</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>type</code> <b>required</b><br>string</td><td>Condition type to probe for.</td></tr><tr><td><code>status</code> <b>required</b><br>string</td><td>Condition status to probe for.</td></tr></tbody></table><p>Used in:</p><ul><li><a href="#probe">Probe</a></li></ul><h3 id="probefieldsequalspec">ProbeFieldsEqualSpec <a href="#probefieldsequalspec" class="anchor" aria-hidden="true">#</a></h3><p>Compares two fields specified by JSON Paths.</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>fieldA</code> <b>required</b><br>string</td><td>First field for comparison.</td></tr><tr><td><code>fieldB</code> <b>required</b><br>string</td><td>Second field for comparison.</td></tr></tbody></table><p>Used in:</p><ul><li><a href="#probe">Probe</a></li></ul><h3 id="probeselector">ProbeSelector <a href="#probeselector" class="anchor" aria-hidden="true">#</a></h3><p>Selects a subset of objects to apply probes to.
e.g. ensures that probes defined for apps/Deployments are not checked against ConfigMaps.</p><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>kind</code><br><a href="#packageprobekindspec">PackageProbeKindSpec</a></td><td>Selects objects based on Kinda and API Group.</td></tr></tbody></table><p>Used in:</p><ul><li><a href="#objectsetprobe">ObjectSetProbe</a></li></ul><div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between"></div><div class="docs-navigation d-flex justify-content-between"><a href="/docs/getting_started/installation/"><div class="card my-1"><div class="card-body py-2">&larr; Installation</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class="container-xxl"><div class="row"><div class="col-lg-8 order-last order-lg-first"><ul class="list-inline"><li class="list-inline-item">Powered by <a class="text-muted" href="https://www.netlify.com/">Netlify</a>, <a class="text-muted" href="https://gohugo.io/">Hugo</a>, and <a class="text-muted" href="https://getdoks.org/">Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class="list-inline"></ul></div></div></div></footer><script src="/js/bootstrap.min.54bf0932b8a36d0e152b1635b099a6ef1394d35327e2437550a075c9c8ed1bd8aed5847c21b36fc02ed24014c031d9ca24017b0c78b1639d7e2fa8329898b842.js" integrity="sha512-VL8JMrijbQ4VKxY1sJmm7xOU01Mn4kN1UKB1ycjtG9iu1YR8IbNvwC7SQBTAMdnKJAF7DHixY51+L6gymJi4Qg==" crossorigin="anonymous" defer></script>
<script src="/js/highlight.min.56a414730f1135fe77b5ea30bf74a2cc4101a6f386e85e5b789c800570cc33d33054000f45932c053a59b41018f72687867254a80e1b9710671852492533162f.js" integrity="sha512-VqQUcw8RNf53teowv3SizEEBpvOG6F5beJyABXDMM9MwVAAPRZMsBTpZtBAY9yaHhnJUqA4blxBnGFJJJTMWLw==" crossorigin="anonymous" defer></script>
<script src="/main.min.162c56a0426544de0d010e66c56e321579655c400c9aae06a6823e7682de379adadf2165bd416fea191e4e7e410fbf1fd2c35a759aa43ff2e3787067669bf81b.js" integrity="sha512-FixWoEJlRN4NAQ5mxW4yFXllXEAMmq4GpoI+doLeN5ra3yFlvUFv6hkeTn5BD78f0sNadZqkP/LjeHBnZpv4Gw==" crossorigin="anonymous" defer></script>
<script src="https://package-operator.run/index.min.28667a1f493c6c77904e9544a0fd93363cd38c8c898338a3c4d3a0fd002dd943061ad0434ebc2d09289635fc1da80b327af6d817b431b68194c4bbe8542b24bd.js" integrity="sha512-KGZ6H0k8bHeQTpVEoP2TNjzTjIyJgzijxNOg/QAt2UMGGtBDTrwtCSiWNfwdqAsyevbYF7QxtoGUxLvoVCskvQ==" crossorigin="anonymous" defer></script></body></html>